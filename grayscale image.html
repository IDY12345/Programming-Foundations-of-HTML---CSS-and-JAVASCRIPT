<h1>Upload and Display Image</h1>
<canvas id="can">

</canvas>
<canvas id="canv">

</canvas>

<link rel="stylesheet" href="back'.css">
<script src="http://www.dukelearntoprogram.com/course1/common/js/image/SimpleImage.js">
    
</script>
<script>
    var image;
    var image1;
    
    
    function upload()
    {
      var imgcanvas=document.getElementById("can");
      var fileinput=document.getElementById("finput");
      image=new SimpleImage(fileinput);
      image.drawTo(imgcanvas);
    }
    function makeGray()
    {
        
        for(var pixel of image.values())
        {
            var avg=(pixel.getRed()+pixel.getBlue()+pixel.getGreen())/3;
            pixel.setRed(avg);
            pixel.setBlue(avg);
            pixel.setGreen(avg);
        }
        var imgcanvas=document.getElementById("canv");
        image.drawTo(imgcanvas);
    }
          
</script>
<p>
    <input type="file" multiple="false"
    accept="image/*" id="finput"
    onchange ="upload()">
</p>
<p>
    <input type="button"
         value="Make Gray"
          onclick="makeGray()"> 
</p>
